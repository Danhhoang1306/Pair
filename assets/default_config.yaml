# ==========================================
# Default Trading Parameters
# This file defines default settings for the trading system
# ==========================================

# Entry/Exit Thresholds
entry_zscore: 2.0
exit_zscore: 0.5
stop_loss_zscore: 3.5

# Position Sizing
max_positions: 10
volume_multiplier: 1.0
max_position_pct: 20.0
max_risk_pct: 2.0

# Risk Management
max_drawdown_pct: 20.0
daily_loss_limit: 5000.0

# Rolling Window
rolling_window: 1000  # Number of H1 bars for statistics (1000 bars = ~42 days)
update_interval: 60  # seconds

# Rebalancing
hedge_drift_threshold: 0.05  # 5% - percentage threshold
min_absolute_drift: 0.01     # 0.01 lots - absolute threshold (always rebalance if drift >= 0.01)
pyramiding_enabled: true
hedge_adjustment_enabled: true
pyramiding_interval: 0.1  # Z-score intervals
pyramiding_max_z: 3.5
initial_position_fraction: 0.33  # 1/3 of total

# MT5 Configuration
mt5:
  magic_number: 234000
  deviation: 20  # slippage in points
  filling_mode: 'IOC'  # Immediate or Cancel
  retry_attempts: 3
  retry_delay: 1.0  # seconds

# Logging
logging:
  level: 'INFO'
  format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
  date_format: '%Y-%m-%d %H:%M:%S'
  log_to_file: true
  log_file: 'logs/trading.log'
  max_bytes: 10485760  # 10MB
  backup_count: 5

# Chart Configuration
chart:
  default_timeframe: '1H'
  lookback_bars: 500
  max_bars_display: 1000
  auto_scroll: true
  show_grid: true
  show_legend: true
  line_width: 2
  candle_width: 0.8

# GUI Configuration
gui:
  window_width: 1400
  window_height: 900
  update_interval_ms: 1000  # GUI update rate
  decimal_places: 2
  show_tooltips: true
  enable_animations: false
  theme: 'darcula'

# Attribution Configuration
attribution:
  update_interval: 60  # seconds
  enable_kill_switch: true
  kill_switch_threshold: 80  # % directional P&L
  hedge_quality_warning: 70  # %
  hedge_quality_critical: 50  # %
  track_components:
    - spread_pnl
    - mean_drift_pnl
    - directional_pnl
    - hedge_imbalance
    - transaction_costs
    - slippage
    - rebalance_alpha

# Risk Limits
risk_limits:
  max_concurrent_positions: 20
  max_position_size_usd: 50000
  max_daily_loss_usd: 5000
  max_drawdown_pct: 20
  min_risk_reward_ratio: 1.5
  max_correlation: 0.95  # For adding new pairs

# Backtest Configuration
backtest:
  initial_balance: 100000
  commission_per_lot: 0.0  # USD
  slippage_pips: 1
  swap_rates:
    XAUUSD: -0.5  # per lot per day
    XAGUSD: -0.3
    BTCUSD: 0.0
    ETHUSD: 0.0
